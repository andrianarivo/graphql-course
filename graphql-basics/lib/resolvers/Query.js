"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
const Query = exports.default = {
  users(parent, args, _ref, info) {
    let {
      db
    } = _ref;
    if (!args.query) {
      return db.users;
    }
    return db.users.filter(user => user.name.toLowerCase().includes(args.query.toLowerCase()));
  },
  posts(parent, args, _ref2, info) {
    let {
      db
    } = _ref2;
    if (!args.query) {
      return db.posts;
    }
    return db.posts.filter(post => {
      const isTitleMatch = post.title.toLowerCase().includes(args.query.toLowerCase());
      const isBodyMatch = post.body.toLowerCase().includes(args.query.toLowerCase());
      return isTitleMatch || isBodyMatch;
    });
  },
  comments(parent, args, _ref3, info) {
    let {
      db
    } = _ref3;
    return db.comments;
  },
  me(parent, args, _ref4, info) {
    let {
      db
    } = _ref4;
    return db.users[1];
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJRdWVyeSIsImV4cG9ydHMiLCJkZWZhdWx0IiwidXNlcnMiLCJwYXJlbnQiLCJhcmdzIiwiX3JlZiIsImluZm8iLCJkYiIsInF1ZXJ5IiwiZmlsdGVyIiwidXNlciIsIm5hbWUiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwicG9zdHMiLCJfcmVmMiIsInBvc3QiLCJpc1RpdGxlTWF0Y2giLCJ0aXRsZSIsImlzQm9keU1hdGNoIiwiYm9keSIsImNvbW1lbnRzIiwiX3JlZjMiLCJtZSIsIl9yZWY0Il0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL3Jlc29sdmVycy9RdWVyeS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRdWVyeVJlc29sdmVycyB9IGZyb20gJy4uL2dlbmVyYXRlZC9ncmFwaHFsJ1xuXG5jb25zdCBRdWVyeTogUXVlcnlSZXNvbHZlcnMgPSB7XG4gIHVzZXJzKHBhcmVudCwgYXJncywgeyBkYiB9LCBpbmZvKSB7XG4gICAgaWYoIWFyZ3MucXVlcnkpIHtcbiAgICAgIHJldHVybiBkYi51c2Vyc1xuICAgIH1cbiAgICByZXR1cm4gZGIudXNlcnMuZmlsdGVyKCh1c2VyKSA9PlxuICAgICAgICB1c2VyLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhhcmdzLnF1ZXJ5IS50b0xvd2VyQ2FzZSgpKVxuICAgIClcbiAgfSxcbiAgcG9zdHMocGFyZW50LCBhcmdzLCB7IGRiIH0sIGluZm8pIHtcbiAgICBpZighYXJncy5xdWVyeSkge1xuICAgICAgcmV0dXJuIGRiLnBvc3RzXG4gICAgfVxuICAgIHJldHVybiBkYi5wb3N0cy5maWx0ZXIoKHBvc3QpID0+IHtcbiAgICAgICAgICBjb25zdCBpc1RpdGxlTWF0Y2ggPSBwb3N0LnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoYXJncy5xdWVyeSEudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICBjb25zdCBpc0JvZHlNYXRjaCA9IHBvc3QuYm9keS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGFyZ3MucXVlcnkhLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgcmV0dXJuIGlzVGl0bGVNYXRjaCB8fCBpc0JvZHlNYXRjaFxuICAgICAgICB9XG4gICAgKVxuICB9LFxuICBjb21tZW50cyhwYXJlbnQsIGFyZ3MsIHsgZGIgfSwgaW5mbykge1xuICAgIHJldHVybiBkYi5jb21tZW50c1xuICB9LFxuICBtZShwYXJlbnQsIGFyZ3MsIHsgZGIgfSwgaW5mbykge1xuICAgIHJldHVybiBkYi51c2Vyc1sxXVxuICB9XG59XG5cbmV4cG9ydCB7IFF1ZXJ5IGFzIGRlZmF1bHQgfSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRUEsTUFBTUEsS0FBcUIsR0FBQUMsT0FBQSxDQUFBQyxPQUFBLEdBQUc7RUFDNUJDLEtBQUtBLENBQUNDLE1BQU0sRUFBRUMsSUFBSSxFQUFBQyxJQUFBLEVBQVVDLElBQUksRUFBRTtJQUFBLElBQWQ7TUFBRUM7SUFBRyxDQUFDLEdBQUFGLElBQUE7SUFDeEIsSUFBRyxDQUFDRCxJQUFJLENBQUNJLEtBQUssRUFBRTtNQUNkLE9BQU9ELEVBQUUsQ0FBQ0wsS0FBSztJQUNqQjtJQUNBLE9BQU9LLEVBQUUsQ0FBQ0wsS0FBSyxDQUFDTyxNQUFNLENBQUVDLElBQUksSUFDeEJBLElBQUksQ0FBQ0MsSUFBSSxDQUFDQyxXQUFXLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUNULElBQUksQ0FBQ0ksS0FBSyxDQUFFSSxXQUFXLENBQUMsQ0FBQyxDQUM5RCxDQUFDO0VBQ0gsQ0FBQztFQUNERSxLQUFLQSxDQUFDWCxNQUFNLEVBQUVDLElBQUksRUFBQVcsS0FBQSxFQUFVVCxJQUFJLEVBQUU7SUFBQSxJQUFkO01BQUVDO0lBQUcsQ0FBQyxHQUFBUSxLQUFBO0lBQ3hCLElBQUcsQ0FBQ1gsSUFBSSxDQUFDSSxLQUFLLEVBQUU7TUFDZCxPQUFPRCxFQUFFLENBQUNPLEtBQUs7SUFDakI7SUFDQSxPQUFPUCxFQUFFLENBQUNPLEtBQUssQ0FBQ0wsTUFBTSxDQUFFTyxJQUFJLElBQUs7TUFDM0IsTUFBTUMsWUFBWSxHQUFHRCxJQUFJLENBQUNFLEtBQUssQ0FBQ04sV0FBVyxDQUFDLENBQUMsQ0FBQ0MsUUFBUSxDQUFDVCxJQUFJLENBQUNJLEtBQUssQ0FBRUksV0FBVyxDQUFDLENBQUMsQ0FBQztNQUNqRixNQUFNTyxXQUFXLEdBQUdILElBQUksQ0FBQ0ksSUFBSSxDQUFDUixXQUFXLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUNULElBQUksQ0FBQ0ksS0FBSyxDQUFFSSxXQUFXLENBQUMsQ0FBQyxDQUFDO01BQy9FLE9BQU9LLFlBQVksSUFBSUUsV0FBVztJQUNwQyxDQUNKLENBQUM7RUFDSCxDQUFDO0VBQ0RFLFFBQVFBLENBQUNsQixNQUFNLEVBQUVDLElBQUksRUFBQWtCLEtBQUEsRUFBVWhCLElBQUksRUFBRTtJQUFBLElBQWQ7TUFBRUM7SUFBRyxDQUFDLEdBQUFlLEtBQUE7SUFDM0IsT0FBT2YsRUFBRSxDQUFDYyxRQUFRO0VBQ3BCLENBQUM7RUFDREUsRUFBRUEsQ0FBQ3BCLE1BQU0sRUFBRUMsSUFBSSxFQUFBb0IsS0FBQSxFQUFVbEIsSUFBSSxFQUFFO0lBQUEsSUFBZDtNQUFFQztJQUFHLENBQUMsR0FBQWlCLEtBQUE7SUFDckIsT0FBT2pCLEVBQUUsQ0FBQ0wsS0FBSyxDQUFDLENBQUMsQ0FBQztFQUNwQjtBQUNGLENBQUMifQ==